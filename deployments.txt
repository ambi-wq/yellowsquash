#for hector stage deployment
cd ~/deployments/ && rm -fr admin-and-api | true && git clone ssh://git@git.opskube.com:2202/yellow-squash/admin-and-api.git  && cd admin-and-api && git checkout develop && git pull origin develop && docker build -t yellow_squash_admin_api:latest . && docker stop stage-yellow_squash_admin_api | true && docker rm stage-yellow_squash_admin_api | true && docker run -d --name stage-yellow_squash_admin_api --restart=always -e ENV=stage -e TZ=Asia/Kolkata -v /etc/timezone:/etc/timezone:ro -v /etc/localtime:/etc/localtime:ro -v /var/log/containers:/var/log/containers -p 8002:8002 --network ys_net yellow_squash_admin_api:latest gunicorn --workers=4 --timeout=600 --bind 0.0.0.0:8002 yellowsquash.wsgi:application

# for yellowsuqash stage deployment
cd ~/projects/ && rm -fr admin-and-api | true && git clone ssh://git@git.opskube.com:2202/yellow-squash/admin-and-api.git  && cd admin-and-api && git checkout develop && git pull origin develop && docker build -t yellow_squash_admin_api:latest . && docker stop stage-yellow_squash_admin_api | true && docker rm stage-yellow_squash_admin_api | true && docker run -d --name stage-yellow_squash_admin_api --restart=always -e ENV=prod -e TZ=Asia/Kolkata -v /etc/timezone:/etc/timezone:ro -v /etc/localtime:/etc/localtime:ro -v /var/log/containers:/var/log/containers -p 8002:8002 --network ys_stage_net yellow_squash_admin_api:latest gunicorn --workers=4 --timeout=600 --bind 0.0.0.0:8002 yellowsquash.wsgi:application

#for prod deployment
cd ~/deployments/admin-and-api/ && rm -fr admin-and-api | true && git clone ssh://git@git.opskube.com:2202/yellow-squash/admin-and-api.git  && cd admin-and-api && git checkout develop && git pull origin develop && docker build -t yellow_squash_admin_api:latest . && docker stop prod-yellow_squash_admin_api | true && docker rm prod-yellow_squash_admin_api | true && docker run -d --name prod-yellow_squash_admin_api --restart=always -e ENV=prod -e TZ=Asia/Kolkata -v /etc/timezone:/etc/timezone:ro -v /etc/localtime:/etc/localtime:ro -v /var/log/containers:/var/log/containers -p 8002:8002 --network ys_net yellow_squash_admin_api:latest gunicorn --workers=4 --timeout=600 --bind 0.0.0.0:8002 yellowsquash.wsgi:application